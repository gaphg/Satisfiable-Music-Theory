INCLUDE: ../western_stdlib/stdlib.rules

DECLARE VOICES: voice
DECLARE LENGTH: 12

DEFINE: isSubset(s1 List of Pitch, s2 List of Pitch) =
    forall item in s1, item in s2

DEFINE: isEqual(s1 List of Pitch, s2 List of Pitch) = isSubset(s1, s2) and isSubset(s2, s1)

; TODO once range is implemented, can simplify this
REQUIRE: t mod 12t = 0t
    => isEqual([flatten(pitches-of v at t),
                flatten(pitches-of v at (t + 1t)), 
                flatten(pitches-of v at (t + 2t)), 
                flatten(pitches-of v at (t + 3t)), 
                flatten(pitches-of v at (t + 4t)), 
                flatten(pitches-of v at (t + 5t)), 
                flatten(pitches-of v at (t + 6t)), 
                flatten(pitches-of v at (t + 7t)), 
                flatten(pitches-of v at (t + 8t)), 
                flatten(pitches-of v at (t + 9t)), 
                flatten(pitches-of v at (t + 10t)), 
                flatten(pitches-of v at (t + 11t))],
                note_classes)

